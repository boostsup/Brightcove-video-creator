/** 
 * jQuery bcVideo Plugin 1.0
 *
 * http://davidgodfrey.info/bcVideo
 *
 * Copyright (c) 2012 David Godfrey
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

(function(a){a.fn.bcVideo=function(b){function e(){function a(){return((1+Math.random())*65536|0).toString(16).substring(1)}return a()+a()+"-"+a()}function f(){try{var a=brightcove;var a=APIModules;brightcove.createExperiences()}catch(b){}}var c={videoSelector:"",closeSelector:"",carouselSelector:""},d=a.extend({},c,b);if(d.closeSelector.length>0){a(d.closeSelector).click(function(b){a(d.videoSelector+" div.bc-video").html("");a(d.videoSelector).fadeOut(500);if(d.carouselSelector.length>1){a(d.carouselSelector).cycle("resume")}b.preventDefault()})}if(window.location.protocol=="https:"){var g=true}else{var g=false}this.each(function(){var b=a(this);var c=b.attr("data-id")||e();var h=b.attr("data-bcpid");var i=b.attr("data-bcpk");var j=b.attr("data-bcid");var k='<div class="brightCoveWrapper"><object id="myExperienceBanner'+c+'" class="BrightcoveExperience"><param name="width" value="545" /><param name="height" value="350" /><param name="wmode" value="transparent" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="autoStart" id="autoStart" value="true" /><param name="dynamicStreaming" value="true" /><param name="playerID" value="'+h+'" /><param name="playerKey" value="'+i+'" /><param name="@videoPlayer" value="'+j+'" />';if(g){k+='<param name="secureConnections" value="true" /></object></div>'}else{k+="</object></div>"}if(d.videoSelector.length>0){b.click(function(b){if(a(d.videoSelector+" div.bc-video").length<1){a(d.videoSelector).prepend("<div class='bc-video'></div>")}a(d.videoSelector+" div.bc-video").html(k);a(d.videoSelector).fadeIn(500,f);if(d.carouselSelector.length>1){a(d.carouselSelector).cycle("pause")}b.preventDefault()})}else{b.click(function(a){b.removeClass(b.selector.replace(/[\#.]/g,"")).css({background:"#000"});b.html(k);f();a.preventDefault()})}});return this}})(jQuery)